# –°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL –Ω–∞ Go

üåê README: [English](README.md) | [–†—É—Å—Å–∫–∏–π](README.ru.md)

–≠—Ç–æ –º–æ–π –ª–∏—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Go. –û–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–¥—Ö–æ–¥ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

*   **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ URL:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–ª–∏–Ω–Ω—ã–π URL –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.
*   **–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ URL:** –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ URL –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, —Ä–∞–∑–¥–µ–ª—è—é—â–µ–π –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏.

*   **`cmd/app/main.go`:** –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **`internal/adapters/`:** –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ –∞–¥–∞–ø—Ç–µ—Ä in-memory.
    *   **`internal/adapters/inmemory/inmemory.go`:** In-memory —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π URL (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏).
*   **`internal/app/`:** –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—É—é –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –∏ –∑–∞–ø—Ä–æ—Å—ã.
    *   **`internal/app/command/`:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏.
        *   **`internal/app/command/create_short_url.go`:** –†–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ URL.
    *   **`internal/app/query/`:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è.
        *   **`internal/app/query/get_real_url.go`:** –†–µ–∞–ª–∏–∑—É–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ URL –∏–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ URL.
*   **`internal/depend/state.go`:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
*   **`internal/generator/`:** –°–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ—Ç–≤–µ—á–∞—é—â–∏–µ –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã—Ö URL.
    *   **`internal/generator/nanoid.go`:** –†–µ–∞–ª–∏–∑—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ID —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `nanoid`.
*   **`internal/ports/`:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º.
    *   **`internal/ports/httpfiber/`:** –†–µ–∞–ª–∏–∑—É–µ—Ç REST API –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Fiber.
        *   **`internal/ports/httpfiber/router.go`:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Fiber.

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

*   **`POST /`**: –°–æ–∑–¥–∞—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π URL. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–ª–æ JSON —Å –∏—Å—Ö–æ–¥–Ω—ã–º URL. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ—Ä–æ—Ç–∫–∏–π ID.

    **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

    ```
    POST /

    Body:
    {
        "url": "https://github.com"
    }

    Result:
    {
        "id": "9lwSRgDIrY"
    }
    ```

*   **`GET /{id}`**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL. `{id}` - —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–≥–æ URL. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π URL.

    **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

    ```
    GET /9lwSRgDIrY

    Result:
    {
        "url": "https://github.com"
    }
    ```

## –ê–¥–∞–ø—Ç–µ—Ä—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

*   [x] In-Memory
*   [ ] PostgreSQL (–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ)

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

*   `github.com/gofiber/fiber/v3`: –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API.
*   `github.com/teris-io/go-nanoid`: –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID.
*   `github.com/stretchr/testify`: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```
go run cmd/app/main.go
```